<template>
  <v-app id="inspire">
    <v-app-bar app :color="navColor" :dark="darkMode">
      <div class="d-flex align-center">
        <svg
          width="127"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 207.63 42.29"
        >
          <path class="logo" :d="coinTreeLogo" :fill="fontColor"></path>
        </svg>
      </div>

      <v-btn v-for="imp in implementations" :key="imp.routeName" text class="ml-2"
        @click="$router.push(imp.routeName)"
        :outlined="$route.name === imp.routeName">
        {{ imp.text }}
      </v-btn>
      <v-spacer></v-spacer>
      
      <v-btn icon class="mr-2" href="https://github.com/PaulPatena/coinbank" target="_blank">
        <v-icon>mdi-github</v-icon>
      </v-btn>

      <div class="d-flex align-center">
        <v-switch
          hide-details
          :dark="darkMode"
          v-model="darkMode"
          color="success"
          :label="`${darkMode ? 'dark' : 'light'}`"
        />
      </div>
    </v-app-bar>

    <v-main :class="bgColor">
      <transition name="fade-transition" mode="out-in">
        <keep-alive>
          <router-view />
        </keep-alive>
      </transition>
    </v-main>
  </v-app>
</template>

<script>
import { mapMutations } from 'vuex';
export default {
  data: () => ({
    drawer: null,
    links: [
      ["mdi-inbox-arrow-down", "Inbox"],
      ["mdi-send", "Send"],
      ["mdi-delete", "Trash"],
      ["mdi-alert-octagon", "Spam"],
    ],
    coinTreeLogo:
      "M63.41,20.63a15.93,15.93,0,0,0-3.12-5h0a15.33,15.33,0,0,0-5.2-3.79,16.71,16.71,0,0,0-12.78,0,15.16,15.16,0,0,0-5.2,3.82h0a15.78,15.78,0,0,0-3.12,5,16.14,16.14,0,0,0-1.05,5.84,15.83,15.83,0,0,0,1.11,5.93,16.33,16.33,0,0,0,3.29,5.12,14.55,14.55,0,0,0,5.07,3.57,17.38,17.38,0,0,0,12.59,0,14.6,14.6,0,0,0,5.06-3.57,16.33,16.33,0,0,0,3.29-5.12,15.63,15.63,0,0,0,1.1-5.93A16,16,0,0,0,63.41,20.63ZM56,34.14a9.65,9.65,0,0,1-2.12,1.63h0a9.87,9.87,0,0,1-2.48,1,11,11,0,0,1-2.72.34A11.1,11.1,0,0,1,46,36.78a10,10,0,0,1-2.48-1h0a9.83,9.83,0,0,1-2.11-1.63A10.07,10.07,0,0,1,39.75,32a10.84,10.84,0,0,1-1-2.59,11.51,11.51,0,0,1,.41-6.93A10.76,10.76,0,0,1,41.41,19a10.59,10.59,0,0,1,3.35-2.35,10.29,10.29,0,0,1,7.86,0A10.47,10.47,0,0,1,56,19a10.59,10.59,0,0,1,2.31,3.47,10.9,10.9,0,0,1,.77,4.14,11.11,11.11,0,0,1-.35,2.79A11.27,11.27,0,0,1,57.65,32h0A10.4,10.4,0,0,1,56,34.14ZM74.3,3.74A3.69,3.69,0,0,1,74,5.15a3.85,3.85,0,0,1-.81,1.2,3.56,3.56,0,0,1-2.6,1.1A3.52,3.52,0,0,1,68,6.35a3.69,3.69,0,0,1-.81-1.2A3.69,3.69,0,0,1,67,3.74a3.79,3.79,0,0,1,.27-1.43A3.73,3.73,0,0,1,68,1.1,3.49,3.49,0,0,1,69.22.28,3.45,3.45,0,0,1,70.61,0,3.56,3.56,0,0,1,72,.28a3.68,3.68,0,0,1,1.19.82A3.73,3.73,0,0,1,74,2.31,3.83,3.83,0,0,1,74.3,3.74Zm-6.35,7h5.36V42.06H68V10.77Zm36.2,15.51V42.06H98.8V27.38c0-1.24,0-2.33-.06-3.26s-.09-1.69-.17-2.28a6.35,6.35,0,0,0-.16-.95h0a8,8,0,0,0-.85-2.29A5.2,5.2,0,0,0,96.25,17a5.29,5.29,0,0,0-1.81-.94,8.58,8.58,0,0,0-5.27.18,8.57,8.57,0,0,0-2.57,1.53h0a9.76,9.76,0,0,0-2,2.31,9.52,9.52,0,0,0-1.19,2.81h0a10,10,0,0,0-.21,1.2c-.07.49-.12,1-.16,1.7-.09,1.29-.13,2.88-.13,4.78V42.06H77.53V10.77h5.36v4.34c.3-.32.61-.64.92-.93a13.66,13.66,0,0,1,2.73-2,12.2,12.2,0,0,1,3-1.19,13,13,0,0,1,3.25-.4,11.62,11.62,0,0,1,3.26.45,10.7,10.7,0,0,1,2.89,1.34,10.51,10.51,0,0,1,2.34,2.11,11.13,11.13,0,0,1,1.64,2.72,15.08,15.08,0,0,1,.94,3.79A38.66,38.66,0,0,1,104.15,26.28Zm39.23-14-3.2,4.26-.6-.27a4.56,4.56,0,0,0-.86-.29,2.94,2.94,0,0,0-.65-.07,3.94,3.94,0,0,0-1.48.32,5.55,5.55,0,0,0-1.51,1A6.48,6.48,0,0,0,133.75,19a12.44,12.44,0,0,0-1,2.62h0a11,11,0,0,0-.28,1.45q-.12.9-.21,2.13c-.11,1.65-.17,3.72-.17,6.23V42.06h-5.43V10.77h5.43V14c.1-.11.19-.23.29-.33a11.22,11.22,0,0,1,2-1.68,8.47,8.47,0,0,1,2.12-1,7.32,7.32,0,0,1,2.23-.35,5.2,5.2,0,0,1,1,.09,7.42,7.42,0,0,1,1,.25,9.82,9.82,0,0,1,1.94.86ZM166,32.44l-.6.84-.32.44c-.14.18-.25.32-.39.47s-.28.29-.49.48a7,7,0,0,1-1.43,1A11.92,11.92,0,0,1,157,37.22a9.75,9.75,0,0,1-3.85-.73,9.47,9.47,0,0,1-3.16-2.2,10.09,10.09,0,0,1-2.16-3.35,12.35,12.35,0,0,1-.74-3.4h25.7V26.7a18.71,18.71,0,0,0-.86-5.63,14.67,14.67,0,0,0-2.48-4.67h0a15.93,15.93,0,0,0-2.49-2.56,14.55,14.55,0,0,0-4.51-2.49,17.71,17.71,0,0,0-8.88-.46,14,14,0,0,0-4.67,1.89,15.21,15.21,0,0,0-3.79,3.49h0a16.32,16.32,0,0,0-2.63,4.79,16.52,16.52,0,0,0-.89,5.42,16.07,16.07,0,0,0,1.05,5.79,17.21,17.21,0,0,0,3.1,5.13A13.71,13.71,0,0,0,148,39.55a13.48,13.48,0,0,0,4.22,2.06,17.72,17.72,0,0,0,5.05.68,16.6,16.6,0,0,0,6-1h0a14.82,14.82,0,0,0,4.77-3,17.41,17.41,0,0,0,3.7-5l.63-1.22h-6.13Zm-18.27-9.75a13.22,13.22,0,0,1,1-2.2,8.55,8.55,0,0,1,1.76-2.25h0a9.81,9.81,0,0,1,3.05-1.87,10.34,10.34,0,0,1,3.62-.62,10.91,10.91,0,0,1,6.46,2.15,8.85,8.85,0,0,1,1.48,1.45,9.38,9.38,0,0,1,1.14,1.88,12.55,12.55,0,0,1,.54,1.47Zm53.12,9.75-.6.84-.31.44c-.14.18-.26.32-.39.47s-.29.29-.5.48a6.64,6.64,0,0,1-1.42,1,12.07,12.07,0,0,1-1.81.82,11.4,11.4,0,0,1-4,.7,9.74,9.74,0,0,1-3.84-.73,9.27,9.27,0,0,1-3.16-2.2,9.94,9.94,0,0,1-2.16-3.35,12,12,0,0,1-.74-3.4h25.69V26.7a19,19,0,0,0-.85-5.63,15.08,15.08,0,0,0-2.48-4.67h0a16.42,16.42,0,0,0-2.5-2.56,14.44,14.44,0,0,0-4.51-2.49,16.72,16.72,0,0,0-5.33-.82,17,17,0,0,0-3.55.36,13.82,13.82,0,0,0-4.66,1.89A15,15,0,0,0,180,16.28h0a16.35,16.35,0,0,0-2.64,4.79,16.52,16.52,0,0,0-.89,5.42,16.07,16.07,0,0,0,1.05,5.79,17,17,0,0,0,3.11,5.13,13.28,13.28,0,0,0,2.3,2.14,13.48,13.48,0,0,0,4.22,2.06,17.74,17.74,0,0,0,5.06.68,16.6,16.6,0,0,0,6-1,14.89,14.89,0,0,0,4.76-3h0a17.61,17.61,0,0,0,3.71-5l.62-1.22h-6.13Zm-18.26-9.75a13.22,13.22,0,0,1,1-2.2,8.57,8.57,0,0,1,1.77-2.25h0a9.86,9.86,0,0,1,3.06-1.87,10.34,10.34,0,0,1,3.62-.62,10.53,10.53,0,0,1,4.52,1,10.37,10.37,0,0,1,1.93,1.15,8.55,8.55,0,0,1,1.49,1.45,8.92,8.92,0,0,1,1.13,1.88,11,11,0,0,1,.55,1.47ZM122.68,37.1,122.55,42l-.67.12a14.21,14.21,0,0,1-2.37.18,14,14,0,0,1-2.06-.15,9.28,9.28,0,0,1-2.24-.59,7,7,0,0,1-1.42-.77,5.69,5.69,0,0,1-1.56-1.67,5.3,5.3,0,0,1-.58-1.3,7.68,7.68,0,0,1-.31-1.81v0l0-10.57h0l0-9.26h-5.79V10.77h5.79V4.64h5.36v6.13h5.83v5.34h-5.84l-.17,11.74h0l-.1,7.23a3.43,3.43,0,0,0,.2.85,2.1,2.1,0,0,0,.37.6,1.78,1.78,0,0,0,.32.29,2.82,2.82,0,0,0,.54.31,4.32,4.32,0,0,0,.86.25,6.26,6.26,0,0,0,1.21.11,8.73,8.73,0,0,0,1.15-.08l.49-.08Zm-107-21.42h5.25v5.38H15.69ZM30.64,32a16.35,16.35,0,0,1-4,6.05,14.16,14.16,0,0,1-6.17,3.56,17.59,17.59,0,0,1-7.11.44,14.38,14.38,0,0,1-5.07-1.6A15.5,15.5,0,0,1,3,35.73,15.3,15.3,0,0,1,.08,28c0-.27,0-.54-.08-.8V25.58c0-.1,0-.19,0-.29.09-.72.13-1.44.27-2.14a15.37,15.37,0,0,1,3.54-7.3,14.94,14.94,0,0,1,10.37-5.41l.8-.08h.67v5.29a11.63,11.63,0,0,0-2.23.28,10.24,10.24,0,0,0-7,5.73,10.55,10.55,0,0,0-.74,7.41A10.11,10.11,0,0,0,10,35.32a10.34,10.34,0,0,0,7.34,1.62,9.71,9.71,0,0,0,5.45-2.53A10.88,10.88,0,0,0,24.73,32Zm-5.41-16.3H21V11.29h4.28Zm4,4.14h-4V15.71h4Z",
    darkMode: true,
    implementations: [
      { text: "Design 1", routeName: "imp1" },
      { text: "Design 2", routeName: "imp2" },
    ],
  }),

  computed: {
    fontColor: function () {
      return this.darkMode ? "#FFFFFF" : "#0";
    },
    navColor: function () {
      return this.darkMode ? "green darken-4" : "green lighten-4";
    },
    bgColor: function () {
      return this.darkMode ? "green darken-2" : "green lighten-5";
    }
  },

  methods: {
    ...mapMutations(['setPreferredCoinFromLocalStorage'])
  },

  created() {
    this.setPreferredCoinFromLocalStorage();
  }
};
</script>